# CORS Headers for Cartridge Machine Firmware API

<IfModule mod_headers.c>
    # Allow requests from any origin (you can restrict this to specific domains)
    Header always set Access-Control-Allow-Origin "*"
    
    # Allow common HTTP methods
    Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    
    # Allow common headers
    Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, Accept, Origin"
    
    # Allow credentials (cookies, authorization headers)
    Header always set Access-Control-Allow-Credentials "true"
    
    # Handle preflight OPTIONS requests
    Header always set Access-Control-Max-Age "86400"
    
    # Allow iframe embedding (remove X-Frame-Options or set to ALLOWALL)
    # Remove this line entirely to allow iframe embedding
    # Header always set X-Frame-Options "SAMEORIGIN"
</IfModule>

# Handle OPTIONS requests for CORS preflight

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # If the request method is OPTIONS, return 200 OK
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ $1 [R=200,L]
</IfModule>

# Security headers (optional but recommended)

<IfModule mod_headers.c>
    # Prevent MIME type sniffing
    Header always set X-Content-Type-Options "nosniff"
    
    # Enable XSS protection
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>
